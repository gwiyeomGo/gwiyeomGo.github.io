---
title:  concat 을 사용해서 두컬럼의 텍스트 데이터 합쳐서 보이도록 한다
date: 2021-07-28
slug: "/mysql/2022-07-28-mysql-concat"
tags:
  - MYSQL
  - SQLLIGHT
---

## 배경
1. 택배 기부는 사용자의 주소를 입력받고 저장합니다.
2. 주소를 2개 컬럼에서 나눠서 상세주소와,주소(시도 및 시군구)로 저장하고 있습니다.

# 작업내용
`concat(sender_address,sender_address_detail)` 을 통해서 text 를 합쳐서 조회할 수 있다.

# SQLLIGHT


#20220728 업무에서 사용

## 업무내용

## 배경
주소 검색 기능이 추가되었고
기부자 정보에서 주소를 보기로 했음
하지만 주소를 확인하기 어렵고
기부자 정보에는 최근에 보냈던 주소가 보이기 때문에 기부자 한명에  여러 주소가 존재하면 알 수 가 없다

## 데이터를 확인해 보니
취소된 기부를 제외
17844 명의 회원( 테스트 기부자 포함)이 택배 기부를 사용했고 주소가 존재합니다.
이때 회원이 가부를 보냈던 주소가 2개 이상인 경우는 569 명(테스트 기부자 포함)이 존재합니다.

```
select   member_id,count(member_id) ,address from
(SELECT d.member_id,c.sender_name,concat(sender_address,sender_address_detail) as address ,d.site_type FROM sharing.donations as d
left join sharing.deliveries  as c
on d.id = c.donation_id
where d.status != "DonationCancelled"
and d.site_type = 'CENTER'
 group by member_id,address
 order by d.member_id
 ) as result group by result.member_id having count(result.member_id) > 1
 ;
```
## 작업내용
주소를 목록 화면에서 보여주고
화면 크기보다 길어지면 스크롤을 추가되도록 화면을 수정한다
