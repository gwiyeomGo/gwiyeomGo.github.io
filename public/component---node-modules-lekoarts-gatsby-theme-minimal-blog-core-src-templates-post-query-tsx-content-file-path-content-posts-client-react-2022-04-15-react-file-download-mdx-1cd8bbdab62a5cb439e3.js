"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[1561],{5121:function(e,n,t){t.r(n),t.d(n,{Head:function(){return s.F},default:function(){return o}});var l=t(7294),r=t(1151);function a(e){const n=Object.assign({h1:"h1",p:"p",pre:"pre",code:"code",a:"a",ol:"ol",li:"li",h3:"h3",hr:"hr"},(0,r.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h1,null,"배경"),"\n",l.createElement(n.p,null,"1.어드민에서 화면에 목록을 다운받고 싶은 요구 발생"),"\n",l.createElement(n.h1,null,"작업내용"),"\n",l.createElement(n.p,null,"파일 다운로드"),"\n",l.createElement(n.h1,null,"방법1"),"\n",l.createElement(n.p,null,"현재 저의 코드에서는 react-csv 컴포넌트를 import 받아서 사용합니다."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,'import { CSVLink } from "react-csv";\r\n\r\nheaders = [\r\n  { label: "First Name", key: "firstname" },\r\n  { label: "Last Name", key: "lastname" },\r\n  { label: "Email", key: "email" }\r\n];\r\n\r\ndata = [\r\n  { firstname: "Ahmed", lastname: "Tomi", email: "ah@smthing.co.com" },\r\n  { firstname: "Raed", lastname: "Labes", email: "rl@smthing.co.com" },\r\n  { firstname: "Yezzi", lastname: "Min l3b", email: "ymin@cocococo.com" }\r\n];\r\n\r\n<CSVLink\r\n  data={data}\r\n  filename={"my-file.csv"}\r\n  headers={headers}\r\n>\r\n  Download me\r\n</CSVLink>;\n')),"\n",l.createElement(n.p,null,"출처 : ",l.createElement(n.a,{href:"https://www.npmjs.com/package/react-csv"},"https://www.npmjs.com/package/react-csv")),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"CSVLink 를 사용해서 [] 형태 데이터를 그대로 다운 받을 수 있었다."),"\n",l.createElement(n.li,null,"그런데 기획쪽의 요청은 한글 name을 추가를 요청했다."),"\n"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"//2개 [] 을 [{},{}]로 변환\r\nexport const makeCsvHeaders = (headerValues,dataKeys) => {\r\n  let fileHeader = new Array(dataKeys.length)\r\n  dataKeys.length > 0 && dataKeys.forEach((key,index) =>\r\n      fileHeader[index] ={\r\n        key:key,\r\n        label: headerValues[index]\r\n      });\r\n  return fileHeader\r\n}\n")),"\n",l.createElement(n.h3,null,"참고"),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://www.npmjs.com/package/react-csv"},"https://www.npmjs.com/package/react-csv")),"\n",l.createElement(n.hr),"\n",l.createElement(n.h1,null,"CSVLink 라이브러리로 엑셀 파일을 만들면  0 이 사라지는 문제"),"\n",l.createElement(n.p,null,"enforce the decimal format for csv"),"\n",l.createElement(n.h3,null,"배경"),"\n",l.createElement(n.p,null,"CSVLink 라이브러리를 사용해서 csv 파일 다운로드 기능을 개발했다\r\n문제는 data의 값이 0 으로 시작하면 엑셀파일 실행시 0 이지워지는 문제가 있었다\r\nex) ",l.createElement(n.code,null,"후대번호 010-****-**** 의 경우 10-****-**** 으로 보임")),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://ecsupport.cafe24.com/article/%EC%87%BC%ED%95%91%EB%AA%B0-tip/101/1089/?page=8"},"https://ecsupport.cafe24.com/article/%EC%87%BC%ED%95%91%EB%AA%B0-tip/101/1089/?page=8")),"\n",l.createElement(n.p,null,'010**** 형태는 숫자로 엑셀이 숫자라 판단해서 맨앞에 0을 지웠다\r\n엑셀에서 0이보이면서 문자로 바꿔주기 위해 =" " 를 추가하는 작업을 진행했었습니다.'),"\n",l.createElement(n.h3,null,"해결방법"),"\n",l.createElement(n.p,null,"data 에 obj 를 돌\r\n",l.createElement(n.code,null,'=""${value}""')," 로 바꿔줌"),"\n",l.createElement(n.p,null,"#문제2\r\n해당 엑셀파일은 우체국 택배 예약 사이트에 업로드할 엑셀에 사용자가 복사에서"),"\n",l.createElement(n.p,null,"휴대번호 => ex) 010-3480-4314\r\n우편번호  => ex) 58654 앞에 특정 문자를 넣어   (58654)"),"\n",l.createElement(n.p,null,"지금 작업할 수 있는 방법은\r\n위 두 예시처럼 특정 문자를 넣어서\r\n문자 형태로 변경해야 합니다.\r\n",l.createElement(n.code,null,"010-3480-4314 ")," , ",l.createElement(n.code,null,"(58654) ")," 형태로 변경하면 괜찮을까요?"),"\n",l.createElement(n.h3,null,"참고"),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://stackoverflow.com/questions/65008344/enforce-the-decimal-format-for-csv"},"https://stackoverflow.com/questions/65008344/enforce-the-decimal-format-for-csv")),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://www.daleseo.com/css-buttons/"},"https://www.daleseo.com/css-buttons/"),"\r\n",l.createElement(n.a,{href:"https://stackoverflow.com/questions/53504924/reactjs-download-csv-file-on-button-click"},"https://stackoverflow.com/questions/53504924/reactjs-download-csv-file-on-button-click"),"\r\n",l.createElement(n.a,{href:"https://encredible.tistory.com/entry/react-csv%EC%97%90%EC%84%9C-onClick-%EC%8B%9C%EC%A0%90%EC%97%90-async%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B0%9B%EC%95%84-%EC%98%A4%EB%8A%94-%EB%B0%A9%EB%B2%95"},"https://encredible.tistory.com/entry/react-csv%EC%97%90%EC%84%9C-onClick-%EC%8B%9C%EC%A0%90%EC%97%90-async%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B0%9B%EC%95%84-%EC%98%A4%EB%8A%94-%EB%B0%A9%EB%B2%95"),"\r\n",l.createElement(n.a,{href:"https://www.geeksforgeeks.org/how-to-add-a-pressed-effect-on-button-click-in-css/"},"https://www.geeksforgeeks.org/how-to-add-a-pressed-effect-on-button-click-in-css/")))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?l.createElement(n,e,l.createElement(a,e)):a(e)},s=t(8804);function o(e){return l.createElement(s.Z,e,l.createElement(c,e))}s.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-client-react-2022-04-15-react-file-download-mdx-1cd8bbdab62a5cb439e3.js.map