{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-database-mysql-2022-07-28-mysql-concat-mdx-1feff42a63b74e6610c6.js","mappings":"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","sources":["webpack://gwiyeom-blog/./content/posts/server/database/mysql/2022-07-28-mysql-concat.mdx","webpack://gwiyeom-blog/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/post-query.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h3: \"h3\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    p: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h3, null, \"배경\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"한 회원당 여러건의 주소를 갖을 수 있다\"), \"\\n\", React.createElement(_components.li, null, \"택배 기부는 사용자의 주소를 입력받고 저장\"), \"\\n\", React.createElement(_components.li, null, \"시도 및 시군구(\", React.createElement(_components.code, null, \"sender_address\"), \"),상세주소(\", React.createElement(_components.code, null, \"sender_address_detail\"), \")\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"주소 검색 기능이 추가되었고\\n기부자 정보에서 주소를 보기로 했음\\n하지만 주소를 확인하기 어렵고\\n기부자 정보에는 최근에 보냈던 주소가 보이기 때문에\\n기부자 한명에  여러 주소가 존재하면 알 수 가 없다\\n이후 주소를 목록 화면에서 보여주고\\n화면 크기보다 길어지면 스크롤을 추가되도록 화면을 수정하기로 했다\"), \"\\n\", React.createElement(_components.h3, null, \"질문?\"), \"\\n\", React.createElement(_components.p, null, \"실제 기부자중 2개 이상의 주소를 입력한 회원은 몇명일까?\\n주소 컬럼을 2개로 관리하는데 합처서 어떻게 볼 수 있지?\"), \"\\n\", React.createElement(_components.h3, null, \"기부자 회원id와 등록한 주소 정보 조회\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"SELECT d.member_id,sender_address,sender_address_detail FROM donations as d\\nleft join deliveries  as c\\non d.id = c.donation_id\\ngroup by member_id,address\\norder by d.member_id\\n\")), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"member_id\"), React.createElement(_components.th, null, \"sender_address\"), React.createElement(_components.th, null, \"sender_address_details\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, \"1\"), React.createElement(_components.td, null, \"광주 광산구\"), React.createElement(_components.td, null, \"2-21\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, \"1\"), React.createElement(_components.td, null, \"광주 광산구\"), React.createElement(_components.td, null, \"2-21\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, \"1\"), React.createElement(_components.td, null, \"대전광역시 유성구\"), React.createElement(_components.td, null, \"3층\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, \"2\"), React.createElement(_components.td, null, \"경기도 군포시\"), React.createElement(_components.td, null, \"105호\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, \"2\"), React.createElement(_components.td, null, \"경기도 군포시\"), React.createElement(_components.td, null, \"105호\")))), \"\\n\", React.createElement(_components.h3, null, \"주소를 합처서 보고 싶다면\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"concat(sender_address,sender_address_detail) as address\"), \" 을 통해서 address 를 합쳐서 조회할 수 있다.\"), \"\\n\", React.createElement(_components.p, null, \"|member_id|address|\\n|---|---|---|\\n|1|광주 광산구 2-21|\\n|1|광주 광산구 2-21|\\n|1|대전광역시 유성구 3층|\\n|2|경기도 군포시 105호|\\n|2|경기도 군포시 105호|\"), \"\\n\", React.createElement(_components.h3, null, \"2건이상 다른 주소를 등록한 회원 조회\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"select  member_id,count(member_id) from\\n(\\n    // 기부자 회원id와 등록한 주소 정보 조회\\n) as result\\ngroup by result.member_id\\nhaving count(result.member_id) > 1\\n\")), \"\\n\", React.createElement(_components.p, null, \"|member_id|count(member_id)|\\n|---|---|---|\\n|1|2|\\n|2|2|\"), \"\\n\", React.createElement(_components.h3, null, \"데이터를 확인해 보니\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"select   member_id,count(member_id)  from\\n(\\n  SELECT d.member_id,concat(sender_address,sender_address_detail) as address , FROM donations as d\\n  left join deliveries  as c\\n  on d.id = c.donation_id\\n  group by member_id,address\\n  order by d.member_id\\n) as result\\n group by result.member_id\\n having count(result.member_id) > 1\\n\")), \"\\n\", React.createElement(_components.p, null, \"작성했던 쿼리 실행결과 row(s) 숫자를 통해 count 를 확인했다.\"), \"\\n\", React.createElement(_components.p, null, \"취소된 기부를 제외하고\\n17844 명의 회원( 테스트 기부자 포함)이 택배 기부를 사용했고 주소가 존재한다.\\n이때 회원이 기부를 보냈던 주소가 2개 이상인 경우는 569 명(테스트 기부자 포함)이 존재했다.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/home/runner/work/gwiyeomgo.github.io/gwiyeomgo.github.io/content/posts/server/database/mysql/2022-07-28-mysql-concat.mdx\";\nimport PostComponent, {Head} from \"../components/post\";\nPostComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"2040642971\";\n"],"names":["_createMdxContent","props","_components","Object","assign","h3","ul","li","code","p","pre","table","thead","tr","th","tbody","td","_provideComponents","components","React","wrapper","MDXLayout","GatsbyMDXWrapper","PostComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}