"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[8362],{5323:function(e,n,t){t.r(n),t.d(n,{Head:function(){return E.F},default:function(){return o}});var l=t(7294),r=t(1151);function a(e){const n=Object.assign({h3:"h3",ol:"ol",li:"li",p:"p",ul:"ul",pre:"pre",code:"code",a:"a"},(0,r.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h3,null,"배경"),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"serviceA 에서 다른 serviceB 의 함수를 호출하려고 한다."),"\n",l.createElement(n.li,null,"serviceB에서 이미 serviceA를 호출하고 있다."),"\n",l.createElement(n.li,null,"코드가 실행되지 않는다."),"\n"),"\n",l.createElement(n.p,null,"결국 serviceA에 함수를 serviceB에 옮기고 사용했다"),"\n",l.createElement(n.p,null,"이럴경우 어떻게 해야 할까?"),"\n",l.createElement(n.p,null,"계속...이런 문제가 발생하니..(2-3년 해보니)\r\n계속 늘어나니까 처음부터 개발시 해당 내용을 논의하고 방향을 정해놓고 해보고 싶다는 생각이 들었다"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"공통으로 자주쓰는 회원 서비스를 다른 서비스에서 부르는 구조"),"\n",l.createElement(n.li,null,"ex) 기부영수증에서는 기부정보를 자주 불러와서 조회가 필요함 기부영수증 -> 기부"),"\n",l.createElement(n.li,null,"정말 어려운 경우는 야매로..repository 불러서 해결했음"),"\n"),"\n",l.createElement(n.h3,null,"golang 에서 순환참조 발생하는 경우"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"__________       __________\r\n|         |<---- |        |\r\n|packageA |      |packageB|\r\n|         | ----\x3e|        |\r\n__________       __________\n")),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"     packageA\r\n    ↗        ↘\r\npackageC ← packageB\n")),"\n",l.createElement(n.h3,null,"패키지의 순환참조?"),"\n",l.createElement(n.p,null,"관련 현상을 검색해보니 이 현상은 golang 은 패키지의 순환 참조는 지원하지 않아서 발생한다고 한다\r\n찾아보니 다른 언어에서도 발생하는데..."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"ex)자바에서 순환 의존 관계 때문에 순환참조의 고리를 끊는다... 스프링에서 권항하는 방법은 설계변경 ...변경 불가시 @Lazy 어노테이션 사용,스프링 의존성 주입?\r\nhttps://keichee.tistory.com/446\n")),"\n",l.createElement(n.h3,null,"참고"),"\n",l.createElement(n.p,null,l.createElement(n.a,{href:"https://medium.com/daangn/how-to-write-a-testable-golang-code-4c0e67612bb8"},"https://medium.com/daangn/how-to-write-a-testable-golang-code-4c0e67612bb8"),"\r\n",l.createElement(n.a,{href:"https://www.popit.kr/%EC%9E%90%EB%B0%94-%EA%B0%9C%EB%B0%9C%EC%9E%90%EA%B0%80-go-%EC%9E%A0%EA%B9%90-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B4%A4%EC%8A%B5%EB%8B%88%EB%8B%A42/"},"https://www.popit.kr/%EC%9E%90%EB%B0%94-%EA%B0%9C%EB%B0%9C%EC%9E%90%EA%B0%80-go-%EC%9E%A0%EA%B9%90-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B4%A4%EC%8A%B5%EB%8B%88%EB%8B%A42/")))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?l.createElement(n,e,l.createElement(a,e)):a(e)},E=t(8804);function o(e){return l.createElement(E.Z,e,l.createElement(c,e))}E.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-golang-2021-08-12-go-import-cycle-not-allowed-mdx-ff67e7b443d87568240a.js.map