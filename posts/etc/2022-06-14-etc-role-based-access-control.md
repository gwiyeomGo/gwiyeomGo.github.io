```
title: 권한과 역할을 어떻게 나눠야 조직에서 잘 쓸까?
startDate: 2022-06-14
```
---

# 배경
현재 지금 시스템은 
오픈소스로 등록되어있는 계정 서비스를 받아서 쓰고 있다.

해당 오픈소스는 
role-base-access-control 기반으로 만들어졌다.

이 시스템의 특징
1. 조직도 - 등록처 하나당 조직 1개 연결 가능
2. 권한 설정
3. 역할 생성 - 권한을 선택가능

> 등록처는 매장/부서/되살림터가 존재 (type 으로 구분
어드민 조직도 기능은 한 멤버에게 여러 역할 등록 가능하지 현재는 한 사람이 하나의 등록처를 관리
조직도에서 조직당 1개의 등록처만 연결 (조직:등록처 = 1:1)
한 역할의 권한은 1개 ex) 매니저 역할의 권한은 MANAGER

>ex) 스타벅스 매장 바리스타 A,  B 가 있다. A와 B는 업무 시스템 화면에서 볼 수 있는 화면이 다르다. A 와 B 는 바리스타 역할이지만 권한이 다르다.

# 요구사항
한 사람이 매장,부서,되살림터 (등록처)를 여러개 관리하고 싶다
매니저 1 => 여러매장 + 부서 관리
되살림터 1 => 여러 되살림터
팀장 => 여러매장 + 부서 + 되살림터

# 작업내용
1. 등록처와 역할이 복수일 때 발생하는 문제로
2. 복수의 등록처를 사용자가 선택할 수 있다.
2. 복수의 역할을 할당한다. => 시스템에서는 가능하지만 => 권한을 다시 나눠야 한다



#20220615
권한을 처음 도입시 아주 작게 나눴다 버튼 하나씩 권한이 생겼다 ( ex) 취소 권한, 수정 권한.. 등

그러다가 권한이 60 개 이상이 되었고 
화면 코드에서는 if 문이 엄청 늘어났고 권한 이름만 보고 어떤 권한인지 알 수 없어서 개발자들이 혼란스럽고 설명하기도 어려웠다.

결국 권한:역할 = 1:1 이 되도록 변경했고 유연함이 없는 시스템이 되었다.
그래서 매장 매니저 중 한곳은 되살림터 화면을 봐야하는 상황이 있었는데.. 지금 시스템으로 쓸 수없었고

요구사항 등장했다.

이거의 해결책으로 
1. 복수의 등록처를 사용자가 선택할 수 있도록 바꾸고
2. 특정 상황에 맞게 권한을 다시 나눠야 한다 => 크게 전체가 아닌 최근에 받은 요구사항을 충족할 수 있는 부분만 ex) 팀장 => 여러매장 + 부서 + 되살림터 가능하도록..

조직에 성숙도에 맞춰서 권한을 나눈다.
 유지보수 가능하게 나눈다.
 처음에는 너무 많이 나눴으니까
 우선 운영자가 최근에 요청하셨던 문제를 해결할 수 있을만큼만 나눠보자