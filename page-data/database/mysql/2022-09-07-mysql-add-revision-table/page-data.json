{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/database/mysql/2022-09-07-mysql-add-revision-table","result":{"data":{"post":{"slug":"/database/mysql/2022-09-07-mysql-add-revision-table","title":"mysql 휴대번호 변경 이력 테이블 추가 경험(Experience adding a the cellphone number revision table in mysql )","date":"07.09.2022","tags":[{"name":"MYSQL","slug":"mysql"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"mysql 휴대번호 변경 이력 테이블 추가 경험(Experience adding a the cellphone number revision table in mysql )\",\n  \"date\": \"2022-09-07T00:00:00.000Z\",\n  \"slug\": \"/database/mysql/2022-09-07-mysql-add-revision-table\",\n  \"tags\": [\"MYSQL\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"\\uBC30\\uACBD\"), mdx(\"p\", null, \"1.\\uD68C\\uC6D0 \\uD14C\\uC774\\uBE14\\uC5D0\\uB294 \\uD68C\\uC6D0\\uAC00\\uC785\\uD55C \\uD734\\uB300\\uBC88\\uD638\\uB97C \\uC800\\uC7A5\\uD558\\uACE0\\uC788\\uB2E4 (\\uC554\\uD638\\uD654\\uB41C \\uD734\\uB300\\uBC88\\uD638)\\n2.\\uCD08\\uAE30 \\uD0DD\\uBC30 \\uAE30\\uBD80 \\uC2DC\\uC2A4\\uD15C\\uC758 \\uC601\\uD5A5\\uC73C\\uB85C \\uD68C\\uC6D0\\uACFC \\uAE30\\uBD80\\uC790\\uAC00 \\uAC19\\uC9C0\\uC54A\\uB2E4\\n3.\\uAE30\\uBD80\\uC601\\uC218\\uC99D\\uC740 \\uAE30\\uBD80\\uC790\\uB9CC \\uBC1C\\uAE09\\uD560 \\uC218 \\uC788\\uC73C\\uBA70 \\uC9C0\\uAE08 \\uC2DC\\uC2A4\\uD15C\\uC758 \\uD68C\\uC6D0\\uC740 \\uAE30\\uBD80\\uC790\\uAC00 \\uC544\\uB2C8\\uB2E4\"), mdx(\"p\", null, \"\\uC0C1\\uD6691) \\uC5B4\\uBA38\\uB2C8\\uAC00 \\uB9E4\\uC7A5\\uC5D0 \\uAE30\\uBD80\\uD568.\\n\\uB538\\uC5D0\\uAC8C \\uACF5\\uC81C \\uD61C\\uD0DD\\uC744 \\uC8FC\\uACE0 \\uC2F6\\uB2E4.\\n\\uC5B4\\uBA38\\uB2C8\\uB294 \\uB538\\uC758 \\uC8FC\\uBBFC\\uB4F1\\uB85D \\uBC88\\uD638\\uB97C \\uBAA8\\uB978\\uB2E4.\\n\\uB538\\uC774 \\uC9C1\\uC811 \\uC785\\uB825\\uD558\\uAC8C \\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uD734\\uB300\\uD3F0\\uBC88\\uD638\\uB97C \\uBC14\\uAFB8\\uB294 \\uC0C1\\uD669\\uC774 \\uC885\\uC885 \\uBC1C\\uC0DD\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \" \\uC5B4\\uBA38\\uB2D8\\uC774 \\uB2E4\\uC74C\\uC5D0 \\uAE30\\uBD80\\uD558\\uB7EC \\uC654\\uB294\\uB370\\n \\uBCF8\\uC778\\uC774 \\uBC14\\uAFB8\\uC168\\uB294\\uB370 \\uAE30\\uC5B5\\uD558\\uC9C0 \\uBABB\\uD55C\\uB2E4.\\n \\uB9E4\\uC7A5\\uC624\\uC154\\uC11C \\uB538\\uC5D0\\uAC8C \\uBB38\\uC790\\uAC00 \\uACC4\\uC18D \\uC628\\uB2E4\\uACE0 \\uBD88\\uB9CC\\uC744 \\uC694\\uCCAD\\uD558\\uC2EC...\\n\")), mdx(\"p\", null, \"\\uBB38\\uC81C) \\uB9E4\\uB2C8\\uC800\\uB2D8\\uC774 \\uADF8 \\uD68C\\uC6D0\\uC774 \\uD734\\uB300\\uD3F0 \\uBC88\\uD638\\uB97C \\uBCC0\\uACBD\\uD588\\uB294\\uC9C0 \\uC870\\uD68C\\uAC00 \\uBD88\\uAC00\\uB2A5\\uD558\\uB2E4\"), mdx(\"p\", null, \"\\uC0C1\\uD6692) \\uC544\\uB0B4\\uAC00 \\uB9E4\\uC7A5\\uC5D0 \\uAE30\\uBD80\\uD568.\\n\\uB0A8\\uD3B8\\uC5D0\\uAC8C \\uACF5\\uC81C \\uD61C\\uD0DD\\uC744 \\uC8FC\\uACE0 \\uC2F6\\uB2E4.\\n\\uC544\\uB0B4\\uB294 \\uB538\\uC758 \\uC8FC\\uBBFC\\uB4F1\\uB85D \\uBC88\\uD638\\uB97C \\uBAA8\\uB978\\uB2E4.\\n\\uB0A8\\uD3B8\\uC774 \\uC9C1\\uC811 \\uC785\\uB825\\uD558\\uAC8C \\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uD734\\uB300\\uD3F0\\uBC88\\uD638\\uB97C \\uBC14\\uAFB8\\uB294 \\uC0C1\\uD669\\uC774 \\uC885\\uC885 \\uBC1C\\uC0DD\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \" \\uBCF8\\uC778\\uC774 \\uBC14\\uAFB8\\uC168\\uB294\\uB370 \\uAE30\\uC5B5\\uD558\\uC9C0 \\uBABB\\uD55C\\uB2E4\\n \\uC544\\uB0B4\\uB294 \\uC54C\\uB9BC\\uD1A1\\uC774 \\uC548\\uC628\\uB2E4\\uACE0 \\uBD88\\uB9CC\\uC744 \\uC694\\uCCAD\\uD558\\uC2EC\\n\\n \\uAD00\\uB9AC\\uC790\\uAC00 \\uBB38\\uC81C\\uB97C \\uD655\\uC778\\uD558\\uB824\\uACE0 \\uC5B4\\uB4DC\\uBBFC \\uAE30\\uBD80 \\uBAA9\\uB85D\\uC5D0\\uC11C \\uD734\\uB300\\uBC88\\uD638\\uB97C \\uC870\\uD68C\\uD588\\uB294\\uB370 \\uAC80\\uC0C9\\uB0B4\\uC6A9\\uC758 \\uD734\\uB300\\uBC88\\uD638\\uAC00  \\uAC80\\uC0C9\\uD55C \\uD734\\uB300\\uBC88\\uD638\\uC640 \\uB2E4\\uB974\\uB2E4.\\n\")), mdx(\"p\", null, \" \\uBB38\\uC81C1)    \\uAD00\\uB9AC\\uC790\\uB294 \\uC624\\uB958\\uB77C\\uACE0 \\uC0DD\\uAC01\\uD558\\uACE0 \\uAC1C\\uBC1C\\uC790\\uC5D0\\uAC8C \\uD655\\uC778\\uC694\\uCCAD, \\uC624\\uB958\\uB294 \\uC544\\uB2C8\\uACE0 \\uBAA9\\uB85D\\uC5D0\\uC11C\\uB294 \\uD604\\uC7AC \\uD68C\\uC6D0\\uC758 \\uD734\\uB300\\uBC88\\uD638\\uAC00 \\uBCF4\\uC774\\uB294 \\uC0C1\\uD669\\uC774\\uB2E4.\\n=> \\uC774\\uBD80\\uBD84\\uC740 \\uAC1C\\uC120\\uC791\\uC5C5\\uC774 \\uD544\\uC694\\n\\uBB38\\uC81C2)    \\uAD00\\uB9AC\\uC790\\uB294 \\uADF8 \\uD68C\\uC6D0\\uC774 \\uD734\\uB300\\uD3F0 \\uBC88\\uD638\\uB97C \\uBCC0\\uACBD\\uD588\\uB294\\uC9C0 \\uC870\\uD68C\\uAC00 \\uBD88\\uAC00\\uB2A5\\uD558\\uB2E4\"), mdx(\"h1\", null, \"\\uC791\\uC5C5\\uB0B4\\uC6A9\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uD734\\uB300\\uBC88\\uD638 \\uBCC0\\uACBD \\uC774\\uB825\\uC744 \\uAD00\\uB9AC \\uD14C\\uC774\\uBE14 \\uCD94\\uAC00\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uD734\\uB300\\uBC88\\uD638 \\uBCC0\\uACBD \\uC774\\uB825\\uC744 \\uC800\\uC7A5,\\uC870\\uD68C\\uD558\\uB294 API \\uAC1C\\uBC1C\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uC5B4\\uB4DC\\uBBFC \\uBC29\\uBB38\\uAE30\\uBD80,\\uD0DD\\uBC30\\uAE30\\uBD80 \\uBAA9\\uB85D\\uC5D0 \\uAC80\\uC0C9\\uAE30\\uB2A5 \\uAC1C\\uC120\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uD734\\uB300\\uBC88\\uD638 \\uAC80\\uC0C9\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uD734\\uB300\\uBC88\\uD638 \\uBCC0\\uACBD \\uC774\\uB825\\uC5D0\\uC11C memberId \\uB97C \\uCC3E\\uACE0\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"memberId \\uC5D0 \\uD574\\uB2F9\\uD558\\uB294 \\uAE30\\uBD80\\uC774\\uB825 \\uC804\\uCCB4 \\uBCF4\\uC5EC\\uC9C0\\uB3C4\\uB85D \\uC218\\uC815\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uD68C\\uC6D0 \\uC5B4\\uB4DC\\uBBFC \\uBAA9\\uB85D\\uC5D0 \\uD68C\\uC6D0 \\uC0C1\\uC138 \\uD398\\uC774\\uC9C0 \\uCD94\\uAC00 \\uAC1C\\uBC1C (\\uD574\\uB2F9 \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uD734\\uB300\\uBC88\\uD638 \\uBCC0\\uACBD\\uC774\\uB825\\uC744 \\uBCFC \\uC218 \\uC788\\uC74C)\")), mdx(\"h1\", null, \"\\uD14C\\uC774\\uBE14 \\uCD94\\uAC00\\uC791\\uC5C5\"), mdx(\"p\", null, \"\\uD68C\\uC6D0\\uC758 \\uD734\\uB300\\uBC88\\uD638 \\uC774\\uB825 \\uAD00\\uB9AC \\uD14C\\uC774\\uBE14\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"1. \\uC5B8\\uC81C \\uB370\\uC774\\uD130 \\uCD94\\uAC00?\\n       1. \\uCD5C\\uCD08 member \\uAC00\\uC785\\uC2DC \\uCD94\\uAC00 (\\uC7AC\\uAC00\\uC785\\uC790\\uB3C4 \\uD3EC\\uD568)\\n       2. \\uD68C\\uC6D0\\uC774 \\uD734\\uB300\\uBC88\\uD638 \\uBCC0\\uACBD \\uC644\\uB8CC \\uD6C4 \\uCD94\\uAC00\\n2. \\uD14C\\uC774\\uBE14 \\uCD94\\uAC00 \\uC774\\uC804\\uB370\\uC774\\uD130\\uB294 \\uC5B4\\uB5BB\\uAC8C \\uCC98\\uB9AC?\\n       1.\\uD0C8\\uD1F4\\uD55C \\uD68C\\uC6D0? => \\uC774\\uACBD\\uC6B0 \\uC774\\uC804 \\uD68C\\uC6D0 \\uC815\\uBCF4\\uB294 \\uD0C8\\uD1F4 \\uD45C\\uC2DC \\uCEEC\\uB7FC\\uC5D0 true \\uAC00 \\uD45C\\uC2DC\\uB418\\uACE0 \\uC0C8\\uB85C\\uC6B4 \\uD68C\\uC6D0 id \\uB97C \\uBD80\\uC5EC\\uBC1B\\uC74C (\\uC601\\uD5A5 \\uC5C6\\uC74C)\\n       2.\\uC9C0\\uAE08\\uC740 \\uD734\\uB300\\uBC88\\uD638\\uAC00 \\uAF2D \\uC785\\uB825\\uB41C\\uB2E4 ,\\uACFC\\uAC70 \\uB370\\uC774\\uD130\\uC5D0 \\uD734\\uB300\\uBC88\\uD638\\uAC00 \\uC5C6\\uB294 \\uD68C\\uC6D0\\uC774 \\uC788\\uB2E4 => \\uD734\\uB300\\uBC88\\uD638\\uAC00 \\uC5C6\\uB294 \\uD68C\\uC6D0?\\n            \\uACFC\\uAC70 \\uB370\\uC774\\uD130\\uB294 \\uADF8\\uB300\\uB85C mobile \\uCEEC\\uB7FC\\uC5D0 \\uACF5\\uBC31\\uC73C\\uB85C \\uC800\\uC7A5\\n            \\uD734\\uB300\\uD3F0 \\uBC88\\uD638 \\uBCC0\\uACBD\\uC2DC \\uC0C8 \\uCEEC\\uB7FC\\uC774 \\uCD94\\uAC00\\uB428\\uC73C\\uB85C member_id \\uB85C \\uD2B9\\uC815 \\uD68C\\uC6D0\\uC758 \\uBCC0\\uACBD \\uC774\\uB825\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4.\\n\")), mdx(\"h1\", null, \"mysql CREATE TABLE\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"CREATE TABLE IF NOT EXISTS member_cellphone_number_revisions(\\n    id                            INT NOT NULL AUTO_INCREMENT,\\n    member_id                     INT NOT NULL COMMENT 'member ID',\\n    mobile                        VARCHAR(50) NOT NULL COMMENT '\\uBCC0\\uACBD\\uB41C \\uD734\\uB300\\uBC88\\uD638',\\n    created                       JSON NOT NULL,\\n    PRIMARY KEY(id),\\n    CONSTRAINT fk_member_cellphone_number_revisions_members\\n        FOREIGN KEY (member_id)\\n            REFERENCES members (id)\\n);\\n\")), mdx(\"h1\", null, \"mysql SELECT \\uB41C \\uACB0\\uACFC\\uB85C INSERT \\uD558\\uAE30\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"INSERT INTO \\uB4E4\\uC5B4\\uAC08\\uD14C\\uC774\\uBE14\\uBA85\\n(\\uCEEC\\uB7FC\\uBA851, \\uCEEC\\uB7FC\\uBA852, \\uCEEC\\uB7FC\\uBA853)\\nSELECT \\uCEEC\\uB7FC\\uBA851, \\uCEEC\\uB7FC\\uBA852, \\uCEEC\\uB7FC\\uBA853\\nFROM \\uC870\\uD68C\\uD560\\uD14C\\uC774\\uBE14\\uBA85\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"INSERT INTO member_cellphone_number_revisions\\n(member_id, mobile, created)\\nselect id as member_id, mobile , json_object(\\n'id', '',\\n'name', '',\\n'datetime', DATE_FORMAT(NOW(),'%Y-%m-%d %h:%m:%s')\\n) as created from  members as m\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"배경 1.회원 테이블에는 회원가입한 휴대번호를 저장하고있다 (암호화된 휴대번호)\n2.초기 택배 기부 시스템의 영향으로 회원과 기부자가 같지않다\n3.기부영수증은 기부자만 발급할 수 있으며 지금 시스템의 회원은 기부자가 아니다 상황…","timeToRead":1,"banner":null}},"pageContext":{"slug":"/database/mysql/2022-09-07-mysql-add-revision-table","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["2744905544","3090400250","318001574"]}