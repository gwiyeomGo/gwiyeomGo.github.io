{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/etc/2022-09-06-aws-sqs","result":{"data":{"post":{"slug":"/etc/2022-09-06-aws-sqs","title":"AWS SQS 에 API 를 호출해서 데이터를 쌓자","date":"06.09.2022","tags":[{"name":"ETC","slug":"etc"},{"name":"AWS","slug":"aws"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"aws sqs\"), mdx(\"h2\", null, \"\\uBC30\\uACBD\"), mdx(\"p\", null, \"\\uAE30\\uBD80\\uAC00 \\uC644\\uB8CC\\uB418\\uC5C8\\uC9C0\\uB9CC \\uCE74\\uCE74\\uC624\\uC54C\\uB9BC\\uD1A1 \\uBA54\\uC138\\uC9C0 \\uC804\\uC1A1\\uC2E4\\uD328\\uB85C \\uC804\\uCCB4\\uAC00 rollback \\uB418\\uC5C8\\uB2E4]()\"), mdx(\"h2\", null, \"\\uC870\\uCE58\"), mdx(\"p\", null, \"\\uCE74\\uCE74\\uC624 \\uC54C\\uB9BC\\uD1A1 \\uC804\\uC1A1 \\uC5C6\\uCCB4\\uC640 \\uAC15\\uD558\\uAC8C \\uACB0\\uD569\\uB418\\uC5B4 \\uC788\\uC73C\\uB2C8 \\uB290\\uC2A8\\uD558\\uAC8C \\uBD84\\uB9AC\\uD55C\\uB2E4\"), mdx(\"p\", null, \"1.\\uC54C\\uB9BC\\uD1A1\\uC5D0 \\uBC1C\\uC0DD\\uC2DC queue \\uC5D0 \\uBA54\\uC138\\uC9C0\\uB97C \\uC313\\uC544\\uC740\\uAC83\\uC744 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\uC54C\\uB9BC\\uD1A1\\uC804\\uC1A1\\uC11C\\uBE44\\uC2A4\"), \" \\uC774 \\uC870\\uD68C\\uD574\\uC628\\uB2E4\\n2.\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\uC54C\\uB9BC\\uD1A1\\uC804\\uC1A1\\uC11C\\uBE44\\uC2A4\"), \"\\uC5D0\\uC11C \\uCE74\\uCE74\\uC624\\uC54C\\uB9BC\\uD1A1\\uACFC \\uD1B5\\uC2E0\\uC774 \\uC2E4\\uD328\\uD588\\uC744 \\uB54C queue \\uC5D0\\uC11C \\uB2E4\\uC2DC \\uD638\\uCD9C\\uD574\\uC11C \\uC7AC\\uBC1C\\uC1A1\\n3.\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\uC54C\\uB9BC\\uD1A1\\uC804\\uC1A1\\uC11C\\uBE44\\uC2A4\"), \"\\uC5D0\\uC11C \\uCE74\\uCE74\\uC624\\uC54C\\uB9BC\\uD1A1\\uACFC \\uD1B5\\uC2E0\\uD574\\uC11C \\uD68C\\uC6D0\\uC5D0\\uAC8C \\uC54C\\uB9BC\\uD1A1 \\uBC1C\\uC1A1\\uC694\\uCCAD\"), mdx(\"p\", null, \"\\uC801\\uC6A9\\uAE30\\uC220\\nsqs vs sns\"), mdx(\"h1\", null, \"sqs\"), mdx(\"p\", null, \"http \\uB85C \\uBA54\\uC138\\uC9C0 \\uC2DC\\uC2A4\\uD15C \\uB300\\uAE30\\uC5F4\\uC5D0 \\uCD94\\uAC00\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://sqs.us-east-2.amazonaws.com/%7Baws\"\n  }, \"https://sqs.us-east-2.amazonaws.com/{aws\"), \" \\uACC4\\uC815\\uBC88\\uD638}/{\\uBA54\\uC138\\uC9C0 \\uB300\\uAE30\\uC5F4 \\uC774\\uB984}\"), mdx(\"h3\", null, \"sqs \\uAD00\\uB828 \\uC815\\uBCF4\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-making-api-requests.html\"\n  }, \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-making-api-requests.html\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-queue-message-identifiers.html#queue-name-url\"\n  }, \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-queue-message-identifiers.html#queue-name-url\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\"\n  }, \"https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://seohyun0120.tistory.com/entry/AWS-SNS-vs-SQS-%EC%B0%A8%EC%9D%B4%EC%A0%90\"\n  }, \"SNS vs SQS\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://velog.io/@zionedoha/SES-SQS-SNS-%EC%B0%A8%EC%9D%B4\"\n  }, \"https://velog.io/@zionedoha/SES-SQS-SNS-%EC%B0%A8%EC%9D%B4\"), \"\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://madosa79.tistory.com/4\"\n  }, \"https://madosa79.tistory.com/4\")), mdx(\"h1\", null, \"aws \\uBB38\\uC11C\\uB97C \\uC77D\\uC73C\\uBA74\\uC11C \\uACC4\\uC18D \\uB4F1\\uC7A5\\uD558\\uB294 \\uC6A9\\uC5B4\"), mdx(\"p\", null, \"EndPoint :  API\\uAC00 \\uC11C\\uBC84\\uC5D0\\uC11C \\uB9AC\\uC18C\\uC2A4\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uAC00\\uB2A5\\uD558\\uAC8C \\uD558\\uB294 URL\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.naver.com/PostView.naver?blogId=ghdalswl77&logNo=222401162545&parentCategoryNo=&categoryNo=90&viewDate=&isShowPopularPosts=true&from=search\"\n  }, \"\\uCD9C\\uCC98\"), \"\\nAPI Gateway :\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/welcome.html\"\n  }, \"https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/welcome.html\")), mdx(\"h1\", null, \"REST API\\uC5D0 \\uB300\\uD55C IAM \\uC778\\uC99D\"), mdx(\"p\", null, \"AWS\\uC5D0\\uB294 \\uB450 \\uAC00\\uC9C0 \\uC720\\uD615\\uC758 \\uC0AC\\uC6A9\\uC790\\n\\uACC4\\uC815 \\uC18C\\uC720\\uC790(\\uB8E8\\uD2B8 \\uC0AC\\uC6A9\\uC790)\\uC774\\uAC70\\uB098\\nAWS Identity and Access Management(IAM) \\uC0AC\\uC6A9\\uC790\\n1-1 token \\uC744 \\uD68D\\uB4DD\\uD558\\uAE30 \\uC704\\uD574\\uC11C IAM \\uACC4\\uC815\\uC744 \\uB9CC\\uB4E4\\uACE0 \\uC784\\uC2DC \\uC790\\uACA9\\uC99D\\uBA85\\uC774 \\uD544\\uC694\\uD574 \\uBCF4\\uC784 (\\uCD94\\uCE21)\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-%EC%9E%A5%EA%B8%B0-%EC%9E%90%EA%B2%A9-%EC%A6%9D%EB%AA%85-%EC%9E%84%EC%8B%9C-%EC%9E%90%EA%B2%A9-%EC%A6%9D%EB%AA%85-Access-Key-Secret-Access-Key#AWS_%EC%9E%90%EA%B2%A9_%EC%A6%9D%EB%AA%85\"\n  }, \"https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-%EC%9E%A5%EA%B8%B0-%EC%9E%90%EA%B2%A9-%EC%A6%9D%EB%AA%85-%EC%9E%84%EC%8B%9C-%EC%9E%90%EA%B2%A9-%EC%A6%9D%EB%AA%85-Access-Key-Secret-Access-Key#AWS_%EC%9E%90%EA%B2%A9_%EC%A6%9D%EB%AA%85\")), mdx(\"p\", null, \"\\uBAA9\\uD45C\\nSQS \\uC5D0 API \\uB97C \\uD638\\uCD9C\\uD574\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uB4F1\\uB85D\\uD55C\\uB2E4\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"post API \\uB97C \\uD638\\uCD9C\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"authorization \\uC744 \\uC0DD\\uC131\\uD574\\uC11C HTTP Authorization\\uD5E4\\uB354\\uC5D0 \\uCD94\\uAC00\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"http \\uB85C API \\uD638\\uCD9C postman\")))), mdx(\"p\", null, \"postman \\uC5D0\\uC11C \\uD14C\\uC2A4\\uD2B8\\uB97C \\uC9C4\\uD589\\uD588\\uC744 \\uB54C\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"https://sqs.eu-west-2.amazonaws.com/123456789012\\n?Action=SendMessage\\n&MessageBody=Your+Message+Text\\n&Expires=2020-10-15T12%3A00%3A00Z\\n&Version=2012-11-05\\n&AUTHPARAMS\\n\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Content-Type \\uC740 application/x-www-form-urlencoded\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"AUTHPARAMS ?\")), mdx(\"h1\", null, \"20220907\"), mdx(\"p\", null, \"aws \\uC758 sqs \\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C \\uC694\\uCCAD\\uC744 \\uBCF4\\uB0B4\\uACE0 \\uC2F6\\uC5C8\\uB2E4.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"sqs \\uC0DD\\uC131 :\\uBA54\\uC138\\uC9C0 \\uB300\\uAE30\\uC5F4 \\uC11C\\uBE44\\uC2A4\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://ap-northeast-2.console.aws.amazon.com/sqs/v2/home?region=ap-northeast-2#/\"\n  }, \"https://ap-northeast-2.console.aws.amazon.com/sqs/v2/home?region=ap-northeast-2#/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uB300\\uAE30\\uC5F4 \\uC0DD\\uC131\\n*FLFO\\n\\uBA54\\uC2DC\\uC9C0 \\uADF8\\uB8F9 ID\\uAC00 \\uB3D9\\uC77C\\uD55C \\uBA54\\uC2DC\\uC9C0\\uB97C FIFO \\uB300\\uAE30\\uC5F4\\uC5D0 \\uC804\\uC1A1\\uD558\\uB294 \\uACBD\\uC6B0, Amazon SQS \\uB3C4\\uCC29\\uD558\\uB294 \\uC21C\\uC11C\\uB300\\uB85C \\uBA54\\uC2DC\\uC9C0\\uB97C \\uC800\\uC7A5\\uD55C \\uD6C4 \\uCC98\\uB9AC\\uD569\\uB2C8\\uB2E4\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues-understanding-logic.html\"\n  }, \"https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues-understanding-logic.html\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uC0DD\\uC131\\uC790\\uB294 \\uACE0\\uC720\\uD55C \\uBA54\\uC2DC\\uC9C0 \\uADF8\\uB8F9 ID\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uBAA8\\uB4E0 \\uBA54\\uC2DC\\uC9C0\\uB97C \\uC804\\uC1A1\\n*\\uC774\\uB984 MessageQueue.fifo\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uBA54\\uC11C\\uB4DC => \\uAE30\\uBCF8\", mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"* \\uC9C0\\uC815\\uB41C AWS \\uACC4\\uC815, IAM \\uC0AC\\uC6A9\\uC790 \\uBC0F \\uC5ED\\uD560\\uB9CC\\n\")), \"*\\uB300\\uAE30\\uC5F4\\uC0DD\\uC131\")))))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"\\n\\n---\\n* \\uC6A9\\uC5B4\\uC815\\uB9AC\\n    * regin :aws \\uB294 \\uC9C0\\uC5ED\\uBCC4\\uB85C \\uB9AC\\uC18C\\uC2A4\\uB97C \\uC81C\\uACF5,\\uD55C\\uAD6D\\uC740 ap-northeast-2\\n    * assume-role:\\n    * ARN:\\n\\n\\n###\\nhttps://devocean.sk.com/blog/techBoardDetail.do?ID=163290\\n\\nexport const _frontmatter = {\\\"title\\\":\\\"AWS SQS \\uC5D0 API \\uB97C \\uD638\\uCD9C\\uD574\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uC313\\uC790\\\",\\\"date\\\":\\\"2022-09-06T00:00:00.000Z\\\",\\\"slug\\\":\\\"/etc/2022-09-06-aws-sqs\\\",\\\"tags\\\":[\\\"ETC\\\",\\\"AWS\\\"]}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"aws sqs 배경 기부가 완료되었지만 카카오알림톡 메세지 전송실패로 전체가 rollback 되었다]() 조치 카카오 알림톡 전송 없체와 강하게 결합되어 있으니 느슨하게 분리한다 1.알림톡에 발생시 queue…","timeToRead":1,"banner":null}},"pageContext":{"slug":"/etc/2022-09-06-aws-sqs","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["2744905544","3090400250","318001574"]}