"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[8321],{5514:function(n,e,t){t.r(e),t.d(e,{Head:function(){return s.F},default:function(){return a}});var r=t(7294),l=t(1151);function c(n){const e=Object.assign({h1:"h1",p:"p",pre:"pre",code:"code"},(0,l.ah)(),n.components);return r.createElement(r.Fragment,null,r.createElement(e.h1,null,"배경"),"\n",r.createElement(e.p,null,"알림톡을 당일에 발송하는 API 는 회원을 조회한다"),"\n",r.createElement(e.p,null,"미전환 회원과 신규 회원을 각각 조회하며\n수신자를 수집하는데\n쿼리가 제대로 작동하는지 조회해봤다"),"\n",r.createElement(e.p,null,"총 구독자의 memberId 를 조회건에\n미전환 회원이 모두 포함되는지 보고싶었다"),"\n",r.createElement(e.pre,null,r.createElement(e.code,null,"SELECT distinct member_id FROM\nsubscribe_data as s\nwhere s.code  in(61,\n66,\n34,\n24,\n25,\n93,\n67);\n-- 1322 -> ids\n")),"\n",r.createElement(e.pre,null,r.createElement(e.code,null,"SELECT * FROM `members` WHERE `id`\nin (\nSELECT distinct member_id FROM\nsubscribe_data as s\nwhere s.code  in(61,\n66,\n34,\n24,\n25,\n93,\n67)\n)   ;\n-- 937 (미전환)\n")),"\n",r.createElement(e.pre,null,r.createElement(e.code,null,"select *\nwhere id in(\nSELECT distinct member_id FROM\nsubscribe_data as s\nwhere s.code  in(61,\n66,\n34,\n24,\n25,\n93,\n67)\n)\n ;\n-- 385 + 937  = 1322\n")),"\n",r.createElement(e.pre,null,r.createElement(e.code,null,"SELECT distinct member_id FROM\nsubscribe_data as s\nwhere s.code  in(\n61,\n66,\n34,\n24,\n25,\n93,\n67)\nunion\nSELECT id as member_id\nFROM `members` WHERE `id`\nin (\nSELECT distinct member_id FROM\nsubscribe_data as s\nwhere s.code  in(61,\n66,\n34,\n24,\n25,\n93,\n67)\n) ;\n")),"\n",r.createElement(e.p,null,"=> ids 갑 1322개의 값과 일치 미전환 회원이 모두 포함"),"\n",r.createElement(e.h1,null,"union"),"\n",r.createElement(e.p,null,"중복되지 않은 유일한 정보만 추출"))}var i=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,l.ah)(),n.components);return e?r.createElement(e,n,r.createElement(c,n)):c(n)},s=t(8804);function a(n){return r.createElement(s.Z,n,r.createElement(i,n))}s.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-server-database-mysql-2023-06-12-mysql-union-mdx-771c04d05df817d70191.js.map