"use strict";(self.webpackChunkgwiyeom_blog=self.webpackChunkgwiyeom_blog||[]).push([[1447],{9485:function(e,n,t){t.r(n),t.d(n,{Head:function(){return u.p},default:function(){return o}});var a=t(6540),l=t(8453);function r(e){const n=Object.assign({h2:"h2",p:"p",pre:"pre",code:"code"},(0,l.RP)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.h2,null,"배경"),"\n",a.createElement(n.p,null,"하나의 함수에서 3개의 API를 호출한다.\n응답받은 데이터를 가져와 합칠 때 state에 합쳤다.\n그런데 각각 API 응답 객체에 동일한 key 값이 있었다."),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"  setData({\n  ...a.data,\n  ...b.data\n  })\n")),"\n",a.createElement(n.p,null,"각가 date key 와 값을 갖고있었다.\n문제는\na data 는 존재하지만 b의 data는 없는 상황이었다."),"\n",a.createElement(n.p,null,"기존에는 보였지만\napi 에서 dto을 변경하는 과정에 data key값이 들어가서 발생한 문제다.\napi 수정할때는 고려하지 못했는데 당황스럽다.\ndto 를 여러군데에서 쓰면 이런일이 발생하나보다\n효과적인 방법이 무엇인지 찾고싶다."),"\n",a.createElement(n.p,null,"결국 해결방법은 data state에 추가할 객체에 key value를 추가했다.\n이에 따라서 화면에서도 a 와 b 중 어느 데이터 인지 알 수 있었다.\n예) ",a.createElement(n.code,null,"data.a.name")),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"{\n  a : a.data,\n  b : b.data\n}\n")),"\n",a.createElement(n.h2,null,"응답 값을 다루는 효과적인 방법?"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.RP)(),e.components);return n?a.createElement(n,e,a.createElement(r,e)):r(e)},u=t(7292);function o(e){return a.createElement(u.A,e,a.createElement(c,e))}u.A}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-client-react-2022-03-31-react-api-response-data-processing-mdx-16a8e0e04ab0e5c1da00.js.map